<div id="competencias" ng-controller="competencias">
	<h2>Competencias</h2>
	<div>
		<div class="instrucciones">
			<div ng-show="!add1 && !edit">A continuación se muestra una lista de todos los alumnos registrados en el sistema. Para dar de alta, de clic en 'Añadir alumno' en la parte superior de la lista. Para editar o borrar un alumno, primero seleccionar un alumno de la lista y dar clic en 'Editar alumno' o 'Borrar alumno' en la parte superior de la lista.</div>
			<div ng-show="add1">Para dar de alta un nuevo alumno en el sistema favor de llenar todos los campos que se muestran a continuación sin faltar ninguno. Para su comodidad el sistema genera una contraseña aleatoriamente pero usted puede modificarla si así lo desea. Esta contraseña es con la que el alumno accessara al sistema, por lo que no olvide compartirsela una vez que la defina.</div>
			<div ng-show="!add1 && edit">Para editar la información de un alumno, modifique los datos en los campos siguientes. La nómina no se puede modificar, por lo que si desea modificarla tendra que borrar el registro y hacerlo otra vez. No olvide guardar los cambios con el boton aceptar una vez concluya las modificaciones.</div>
		</div>
		<div class="admin_control first" ng-show="!edit3">
			<div class="panel_list">
				<b>Competencias</b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir competencia" title="Añadir competencia" ng-click="edit1 = !edit1; add1 = !add1; addelem1()" ng-disabled="edit1 || edit2">+</button>
					<button class="btn_edi" alt="Editar competencia" title="Editar competencia" ng-disabled="!modeloLista1 || edit1 || edit2" ng-click="edit1 = !edit1"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar competencia" title="Borrar competencia" ng-disabled="!modeloLista1 || edit1 || edit2" ng-click="delelem1()">x</button>
				</div>
				<div class="list">
					<select id="lista1" size="15" ng-model="modeloLista1" ng-options="(addSpaces(item.com_clave_competencia) + item.com_descripcion_competencia) for item in lista1 track by item.com_clave_competencia" ng-change="update1()" ng-disabled="edit1 || edit2">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form1()" ng-show="edit1" ng-disabled="!edit1">
				<div class="details">
					<p>Clave:</p><input type="text" ng-model="modeloLista1.com_clave_competencia" ng-readonly="!add1" ng-disabled="!add1" maxlength="10" required>
					<p>Descripción:</p><input type="text" ng-model="modeloLista1.com_descripcion_competencia" ng-readonly="!edit1" required>
					<p>Categoría:</p>
					<select class="sublistaDetalle" ng-model="modeloLista1.com_categoria_competencia" ng-disabled="!edit1" required>
						<option value=""></option>
						<option value="Transversal">Transversal</option>
						<option value="Disciplinaria">Disciplinaria</option>
					</select>
					<p>Competencia Fija: <input type="checkbox" ng-model="modeloLista1.com_fijo" ng-true-value="1" ng-false-value="0" ng-disabled="!edit1"></input></p>
					<button title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit1"><img src="/img/accept.png"></button>
					<button type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit1" ng-click="cancel1()"><img src="/img/cancel.png"></button>
				</div>
			</form>
		</div>
		<div class="admin_control" ng-show="modeloLista1 && !edit1">
			<div class="panel_list">
				<b>Subcompetencias</b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir subcompetencia" title="Añadir subcompetencia" ng-click="edit2 = !edit2; add2 = !add2; addelem2()" ng-disabled="!modeloLista1 || edit2 || edit3">+</button>
					<button class="btn_edi" alt="Editar subcompetencia" title="Editar subcompetencia" ng-disabled="!modeloLista2 || edit2 || edit3" ng-click="edit2 = !edit2"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar subcompetencia" title="Borrar subcompetencia" ng-disabled="!modeloLista2 || edit2 || edit3" ng-click="delelem2($event)">x</button>
				</div>
				<div class="list">
					<select id="lista2" size="15" ng-model="modeloLista2" ng-options="(addSpaces(item.sco_clave_subcompetencia) + item.sco_descripcion_subcompetencia) for item in lista2 track by item.sco_clave_subcompetencia" ng-change="update2()" ng-disabled="edit2 || edit3">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form2()" ng-show="edit2" ng-disabled="!edit2">
				<div class="details">
					<p>Clave:</p><input type="text" ng-model="modeloLista2.sco_clave_subcompetencia" ng-readonly="!add2" ng-disabled="!add2" maxlength="10" required>
					<p>Descripción:</p><textarea rows="5" ng-model="modeloLista2.sco_descripcion_subcompetencia" ng-readonly="!edit2" required></textarea>
					<p>Subcompetencia Fija: <input type="checkbox" ng-model="modeloLista2.sco_fijo" ng-true-value="1" ng-false-value="0" ng-disabled="!edit2"></input></p>
					<p>Taxonomia:</p>
					<select class="sublistaDetalle" ng-model="modeloLista2.sco_taxonomia" ng-disabled="!edit2" required>
						<option value=""></option>
						<option value="Competencias">Competencias</option>
						<option value="Simpson">Simpson</option>
						<option value="Krathwohl">Krathwohl</option>
					</select>
					<button title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit2"><img src="/img/accept.png"></button>
					<button type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit2" ng-click="cancel2()"><img src="/img/cancel.png"></button>
				</div>
			</form>
		</div>
		<div class="admin_control" ng-show="modeloLista1 && modeloLista2 && !edit1 && !edit2">
			<div class="panel_list">
				<b>Taxonomias y niveles</b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir subcompetencia" title="Añadir subcompetencia" ng-click="edit3 = !edit3; add3 = !add3; addelem3()" ng-disabled="!modeloLista1 || edit3">+</button>
					<button class="btn_edi" alt="Editar subcompetencia" title="Editar subcompetencia" ng-disabled="!modeloLista3 || edit3" ng-click="edit3 = !edit3"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar subcompetencia" title="Borrar subcompetencia" ng-disabled="!modeloLista3 || edit3" ng-click="delelem3($event)">x</button>
				</div>
				<div class="list">
					<select id="lista3" size="15" ng-model="modeloLista3" ng-options="(addSpaces(item.niv_nivel) + item.niv_descripcion) for item in lista3 track by item.niv_nivel" ng-disabled="edit3">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form3()" ng-show="edit3" ng-disabled="!edit3">
				<div class="details">
					<p>Nivel:</p><input type="text" ng-model="modeloLista3.niv_nivel" ng-readonly="!add3" ng-disabled="!add3" maxlength="2" required>
					<p>Descripción:</p><textarea rows="5" ng-model="modeloLista3.niv_descripcion" ng-readonly="!edit3" required></textarea>
					<button title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit3"><img src="/img/accept.png"></button>
					<button type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit3" ng-click="cancel3()"><img src="/img/cancel.png"></button>
				</div>
			</form>
		</div>
	</div>
</div>