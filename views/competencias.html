<div id="competencias" ng-controller="competencias">
	<h2>Competencias</h2>
	<div>
		<div class="instrucciones">
			<div>En esta sección ingrese las competencias y subcompetencias (o elementos de competencia) sean disciplinares o transversales. Se exhorta a registrar previamente las competencias y subcompetencias con la responsable del proyecto para integrarlas a un catálogo donde se le asignará una clave a cada competencia y subcompetencia para fines de sistematización y organización de la información.</div>
		</div>
		<div class="admin_control first" ng-show="!edit3">
			<div class="panel_list">
				<b>Competencias<br></b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir competencia" title="Añadir competencia" ng-click="edit1 = !edit1; add1 = !add1; addelem1()" ng-disabled="edit1 || edit2">+</button>
					<button class="btn_edi" alt="Editar competencia" title="Editar competencia" ng-disabled="!modeloLista1 || edit1 || edit2" ng-click="edit1 = !edit1"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar competencia" title="Borrar competencia" ng-disabled="!modeloLista1 || edit1 || edit2" ng-click="delelem1()">x</button>
				</div>
				<div class="list">
					<select id="lista1" size="15" ng-model="modeloLista1" ng-options="(addSpaces(item.com_clave_competencia) + item.com_descripcion_competencia) for item in lista1 track by item.com_clave_competencia" ng-change="update1()" ng-disabled="edit1 || edit2">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form1()" ng-show="edit1" ng-disabled="!edit1">
				<div class="details">
					<p>Clave:</p><input type="text" ng-model="modeloLista1.com_clave_competencia" ng-readonly="!add1" ng-disabled="!add1" maxlength="10" required>
					<p>Descripción:</p><input type="text" ng-model="modeloLista1.com_descripcion_competencia" ng-readonly="!edit1" required>
					<p>Categoría:</p>
					<select class="sublistaDetalle" ng-model="modeloLista1.com_categoria_competencia" ng-options="item.index as item.value for item in categoria" ng-disabled="!edit1" required>
						<option value=""></option>
					</select>
					<p>Competencia Fija: <input type="checkbox" ng-model="modeloLista1.com_fijo" ng-true-value="1" ng-false-value="0" ng-disabled="!edit1"></input></p>
					<button class="btnsave" title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit1">Guardar</button>
					<button class="btncancel" type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit1" ng-click="cancel1()">Cancelar</button>
				</div>
			</form>
		</div>
		<div class="admin_control" ng-show="modeloLista1 && !edit1">
			<div class="panel_list">
				<b>Subcompetencias<br></b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir subcompetencia" title="Añadir subcompetencia" ng-click="edit2 = !edit2; add2 = !add2; addelem2()" ng-disabled="!modeloLista1 || edit2 || edit3">+</button>
					<button class="btn_edi" alt="Editar subcompetencia" title="Editar subcompetencia" ng-disabled="!modeloLista2 || edit2 || edit3" ng-click="edit2 = !edit2"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar subcompetencia" title="Borrar subcompetencia" ng-disabled="!modeloLista2 || edit2 || edit3" ng-click="delelem2($event)">x</button>
				</div>
				<div class="list">
					<select id="lista2" size="15" ng-model="modeloLista2" ng-options="(addSpaces(item.sco_clave_subcompetencia) + item.sco_descripcion_subcompetencia) for item in lista2 track by item.sco_clave_subcompetencia" ng-change="update2()" ng-disabled="edit2 || edit3">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form2()" ng-show="edit2" ng-disabled="!edit2">
				<div class="details">
					<p>Clave:</p>{{modeloLista1.com_clave_competencia}}&nbsp;<input type="text" ng-model="modeloLista2.sco_clave_subcompetencia" ng-readonly="!add2" ng-disabled="!add2" maxlength="10" required>
					<p>Descripción:</p><textarea rows="5" ng-model="modeloLista2.sco_descripcion_subcompetencia" ng-readonly="!edit2" required></textarea>
					<p>Subcompetencia Fija: <input type="checkbox" ng-model="modeloLista2.sco_fijo" ng-true-value="1" ng-false-value="0" ng-disabled="!edit2"></input></p>
					<p>Taxonomia:</p>
					<select class="sublistaDetalle" ng-model="modeloLista2.sco_taxonomia" ng-options="item.index as item.value for item in taxonomia" ng-disabled="!edit2" required>
						<option value=""></option>
					</select>
					<button class="btnsave" title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit2">Guardar</button>
					<button class="btncancel" type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit2" ng-click="cancel2()">Cancelar</button>
				</div>
			</form>
		</div>
		<div class="admin_control" ng-show="modeloLista1 && modeloLista2 && !edit1 && !edit2">
			<div class="panel_list">
				<b>Taxonomias y<br>niveles</b>
				<div class="buttons_list">
					<button class="btn_add" alt="Añadir subcompetencia" title="Añadir subcompetencia" ng-click="edit3 = !edit3; add3 = !add3; addelem3()" ng-disabled="!modeloLista1 || edit3">+</button>
					<button class="btn_edi" alt="Editar subcompetencia" title="Editar subcompetencia" ng-disabled="!modeloLista3 || edit3" ng-click="edit3 = !edit3"><img src="/img/edit.png"></button>
					<button class="btn_del" alt="Borrar nivel. Para borrar todos los niveles mantenga presionada la tecla 'Ctrl' mientras da clic en aquí" title="Borrar nivel. Para borrar todos los niveles mantenga presionada la tecla 'Ctrl' mientras da clic en aquí" ng-disabled="!modeloLista3 || edit3" ng-click="delelem3($event)">x</button>
				</div>
				<div class="list">
					<select id="lista3" size="15" ng-model="modeloLista3" ng-options="(addSpaces(item.niv_nivel) + item.niv_descripcion) for item in lista3 track by item.niv_nivel" ng-disabled="edit3">
						<option value=""></option>
					</select>
				</div>
			</div>
			<form ng-submit="form3()" ng-show="edit3" ng-disabled="!edit3">
				<div class="details">
					<p>Nivel:</p><input type="text" ng-model="modeloLista3.niv_nivel" ng-readonly="!add3" ng-disabled="!add3" maxlength="2" required>
					<p>Descripción:</p><textarea rows="5" ng-model="modeloLista3.niv_descripcion" ng-readonly="!edit3" required></textarea>
					<button class="btnsave" title="Guardar cambios" alt="Guardar cambios" ng-disabled="!edit3">Guardar</button>
					<button class="btncancel" type="button" title="Cancelar" alt="Cancelar" ng-disabled="!edit3" ng-click="cancel3()">Cancelar</button>
				</div>
			</form>
		</div>
	</div>
</div>